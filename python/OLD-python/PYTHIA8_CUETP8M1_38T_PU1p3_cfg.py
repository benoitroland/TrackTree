# information about dataset and GT used below
# https://hypernews.cern.ch/HyperNews/CMS/get/relval/3688.html

import FWCore.ParameterSet.Config as cms

process = cms.Process("TrackAnalysis")

process.load("FWCore.MessageService.MessageLogger_cfi")
process.MessageLogger.cerr.FwkReport.reportEvery = 10000
process.maxEvents = cms.untracked.PSet(input = cms.untracked.int32(1000000))

process.load("RecoTracker.TrackProducer.TrackRefitters_cff")
process.TrackRefitter.src = 'generalTracks'
process.TrackRefitter.TrajectoryInEvent = True
process.TrackRefitter.TTRHBuilder = "WithAngleAndTemplate"
process.TrackRefitter.NavigationSchool = "" 

xrootd = "root://xrootd-cms.infn.it//"
mcdir = "store/mc/RunIISpring15DR74/MinBias_TuneCUETP8M1_13TeV-pythia8/GEN-SIM-RECODEBUG/PU1p3RealisticRecodebug_741_p1_mcRun2_Realistic_50ns_v0-v2"
directory = xrootd + mcdir

process.source = cms.Source("PoolSource",
                            fileNames = cms.untracked.vstring(directory+'/10000/008187F1-F366-E511-AC29-0025905A612C.root',
                                                              directory+'/10000/00854EB9-F266-E511-B0EC-0025905A48F0.root',
                                                              directory+'/10000/00C4233C-F266-E511-9160-0025907FD2D6.root',
                                                              directory+'/10000/04E1AF05-F966-E511-919B-0025907DC9F8.root',
                                                              directory+'/10000/08C1E8B1-F366-E511-8950-0025905A6132.root',
                                                              directory+'/10000/08EA0EA2-FA66-E511-93B7-002618943985.root',
                                                              directory+'/10000/0A2942F7-F966-E511-A6DD-00261894394F.root',
                                                              directory+'/10000/0AE50C4A-F366-E511-B0BC-047D7BD6DF3A.root',
                                                              directory+'/10000/0AEDB534-F366-E511-8C12-0025905938A8.root',
                                                              directory+'/10000/0C1C9DFC-F966-E511-A066-0025905A609E.root',
                                                              directory+'/10000/0E4378A9-F366-E511-9117-002618943821.root',
                                                              directory+'/10000/0EF88636-F366-E511-B26C-0025905A60CE.root',
                                                              directory+'/10000/104D460F-FA66-E511-B58C-0025905A60E0.root',
                                                              directory+'/10000/140974C9-F266-E511-B5CC-002590596486.root',
                                                              directory+'/10000/14CAAF01-FA66-E511-B883-0025905964C2.root',
                                                              directory+'/10000/16557FF3-F166-E511-8775-E41D2D08E080.root',
                                                              directory+'/10000/1655EAAE-F366-E511-B23F-0025905A60CA.root',
                                                              directory+'/10000/18EBE8D7-F266-E511-9157-047D7B881D26.root',
                                                              directory+'/10000/18FFD431-F366-E511-8936-002618943947.root',
                                                              directory+'/10000/1A0EB102-F466-E511-B7F9-0025905A48F2.root',
                                                              directory+'/10000/1C29EEB3-F266-E511-89CA-0026189438AA.root',
                                                              directory+'/10000/1C933C83-F266-E511-8532-0025907FD424.root',
                                                              directory+'/10000/1C94658F-F366-E511-98E3-002590AC4C7C.root',
                                                              directory+'/10000/1E141635-F366-E511-B3C5-00261894393B.root',
                                                              directory+'/10000/1E4A9AF7-F866-E511-B75C-0025905A60E0.root',
                                                              directory+'/10000/204936F6-F866-E511-9852-0025905A6094.root',
                                                              #directory+'/10000/220D8646-F266-E511-AE84-0025905A6134.root',
                                                              directory+'/10000/244A2012-F366-E511-8B1B-0025905A497A.root',
                                                              directory+'/10000/24BD7DFE-F966-E511-97C4-0025905A608E.root',
                                                              directory+'/10000/26EA48B6-F266-E511-BC0E-0025905A48F2.root',
                                                              directory+'/10000/2888B9B9-F266-E511-9F46-0025905A60CA.root',
                                                              directory+'/10000/2A39FF43-F266-E511-9617-0025905A6138.root',
                                                              directory+'/10000/2C886A19-F266-E511-8E98-002590AB38DA.root',
                                                              directory+'/10000/2E2B97B4-F366-E511-B66B-0025905964B4.root',
                                                              directory+'/10000/2EE9BDF6-F966-E511-AAB3-002354EF3BCE.root',
                                                              directory+'/10000/303FB422-F366-E511-B5F6-0025905B8592.root',
                                                              directory+'/10000/32AEC144-F366-E511-805A-0025905964BE.root',
                                                              directory+'/10000/32F109BA-F266-E511-9D4D-0025905A60A8.root',
                                                              directory+'/10000/34FBA2FA-F866-E511-856C-0025905A611E.root',
                                                              directory+'/10000/366CEAA7-FA66-E511-BACB-0025905A609E.root',
                                                              directory+'/10000/38688FB1-F366-E511-BA2E-0025905A6132.root',
                                                              directory+'/10000/38B9249E-F366-E511-873B-E41D2D08DD30.root',
                                                              directory+'/10000/38FC50B1-F366-E511-AA33-0025905A6066.root',
                                                              directory+'/10000/3A65CFF9-F366-E511-8945-0025905A6110.root',
                                                              directory+'/10000/3C1A84F7-F866-E511-9D6D-0025905A4964.root',
                                                              directory+'/10000/3C4A7B4F-F266-E511-8383-00261894387A.root',
                                                              directory+'/10000/4071C9B2-F266-E511-97FD-002618943971.root',
                                                              directory+'/10000/408D1932-F366-E511-89B9-002618943854.root',
                                                              directory+'/10000/40A69533-F366-E511-97E2-002618943950.root',
                                                              directory+'/10000/44839303-F966-E511-9EA0-0025907DC9BA.root',
                                                              directory+'/10000/44AC1338-F366-E511-80B6-0025905A60B2.root',
                                                              directory+'/10000/44F5DA55-F266-E511-B335-0025907DC9F8.root',
                                                              directory+'/10000/46149DA9-F266-E511-93C5-0025905A60B6.root',
                                                              directory+'/10000/461BBDF9-F866-E511-B58B-0025905A608E.root',
                                                              directory+'/10000/465048AD-F366-E511-89DB-0025905AA9CC.root',
                                                              directory+'/10000/46F035B7-F266-E511-8C60-0025905964CC.root',
                                                              directory+'/10000/4AB4F2FD-F966-E511-B595-0025905A6138.root',
                                                              directory+'/10000/4E457BF5-F866-E511-89AD-00261894385D.root',
                                                              directory+'/10000/4EFA5138-F366-E511-BBC4-0025905A60E4.root',
                                                              directory+'/10000/50AC4E37-F366-E511-ADB4-0025905A609E.root',
                                                              directory+'/10000/5236168F-F266-E511-9A04-0025907FD424.root',
                                                              directory+'/10000/527F2EFF-F366-E511-95F6-0025905A6104.root',
                                                              directory+'/10000/52D8FFB2-F266-E511-9190-0026189438F4.root',
                                                              directory+'/10000/52DF64FE-F966-E511-AF49-0025905B85EE.root',
                                                              directory+'/10000/54E56CAE-F366-E511-AF72-0025905A6126.root',
                                                              directory+'/10000/56A965F9-F366-E511-B4D7-0025905A60B6.root',
                                                              directory+'/10000/56EA46A8-FA66-E511-B719-0025905B8592.root',
                                                              directory+'/10000/5806E319-F266-E511-B18C-00261894394D.root',
                                                              directory+'/10000/580A84B5-F266-E511-8C9D-0025905A60E4.root',
                                                              directory+'/10000/58194243-F266-E511-B955-0025905A6082.root',
                                                              directory+'/10000/585537D5-F266-E511-BE7B-0025905A48F2.root',
                                                              directory+'/10000/586F883C-F366-E511-B2B3-0025907DCA64.root',
                                                              directory+'/10000/589A71AF-F366-E511-80DF-0025905A612A.root',
                                                              directory+'/10000/58DFDEB7-F266-E511-95BE-003048FFD7A2.root',
                                                              directory+'/10000/58EE5C3A-F266-E511-A9C7-002354EF3BDB.root',
                                                              directory+'/10000/5A740942-F266-E511-AE95-002590593876.root',
                                                              directory+'/10000/5A81F7F9-F866-E511-9F65-0025905A612A.root',
                                                              directory+'/10000/5A88CAF2-F866-E511-987E-0026189438A7.root',
                                                              directory+'/10000/5AB49561-3D67-E511-A897-002618943900.root',
                                                              directory+'/10000/5E232CDF-ED66-E511-BF7B-002590AC5060.root',
                                                              directory+'/10000/5EFA57F8-F966-E511-909A-00261894394A.root',
                                                              directory+'/10000/607915B1-F366-E511-8AD6-0025905A6066.root',
                                                              directory+'/10000/60E51861-3D67-E511-B195-E41D2D08DFB0.root',
                                                              directory+'/10000/621B20B3-F266-E511-8965-0026189438F4.root',
                                                              directory+'/10000/62D6D3F2-F866-E511-A5F3-0026189438F6.root',
                                                              directory+'/10000/62DEA83F-F266-E511-825C-0025905A60A6.root',
                                                              directory+'/10000/662C3790-F366-E511-B183-002590DB91C6.root',
                                                              directory+'/10000/68D9F8DE-ED66-E511-99E9-002590A2CDA8.root',
                                                              directory+'/10000/6A355C3C-F266-E511-8847-00261894387C.root',
                                                              directory+'/10000/6C7517B2-F266-E511-91F0-00261894390C.root',
                                                              directory+'/10000/6C80BE01-EC66-E511-9E69-0025905A60A8.root',
                                                              directory+'/10000/6E345FB3-F266-E511-8132-0025905A612C.root',
                                                              directory+'/10000/70AFE0F4-F866-E511-B619-002618943900.root',
                                                              directory+'/10000/747647FF-F866-E511-87D5-002590593878.root',
                                                              directory+'/10000/74F64D13-FA66-E511-B215-0025905A608C.root',
                                                              directory+'/10000/783EB3FD-F966-E511-984D-0025905A60C6.root',
                                                              directory+'/10000/78BDAE39-F366-E511-96A7-0025905B858E.root',
                                                              directory+'/10000/78C00601-F466-E511-AB66-0025905A612E.root',
                                                              directory+'/10000/7C6688AD-F366-E511-B502-002590593876.root',
                                                              directory+'/10000/7CC81721-F366-E511-A3B8-003048FFCB74.root',
                                                              directory+'/10000/7E52E2DE-ED66-E511-AE75-002590AC4CCC.root',
                                                              directory+'/10000/7EE33D33-F366-E511-A1F5-002618943976.root',
                                                              directory+'/10000/825E47FE-F966-E511-8537-0025905B85EE.root',
                                                              directory+'/10000/82902AB9-F266-E511-ABBA-0025905A48F0.root',
                                                              directory+'/10000/84F1BCF9-F866-E511-8E35-0025905A608E.root',
                                                              directory+'/10000/86DA66FA-F966-E511-AE05-0025905A60E4.root',
                                                              directory+'/10000/8861F9B3-F266-E511-A490-0026189438DF.root',
                                                              directory+'/10000/88B6CC40-F266-E511-97F7-0025905A60BE.root',
                                                              directory+'/10000/8C103C08-F466-E511-940B-0025905A6092.root',
                                                              directory+'/10000/8C7976B1-F266-E511-87DF-00261894396D.root',
                                                              directory+'/10000/8E262F07-F466-E511-9EC0-0025905A612E.root',
                                                              directory+'/10000/8EE82E42-F266-E511-AE22-002590DB91FA.root',
                                                              directory+'/10000/90564BAF-F366-E511-AC85-0025905A60EE.root',
                                                              directory+'/10000/949F99B5-F266-E511-AB3E-0025905A608C.root',
                                                              directory+'/10000/982E8531-F366-E511-9499-003048FFCB96.root',
                                                              directory+'/10000/98F405F9-F866-E511-86DF-0025905A48C0.root',
                                                              directory+'/10000/9A0B3648-F266-E511-838E-0025905A605E.root',
                                                              directory+'/10000/9AA15D3A-F266-E511-AE67-002354EF3BDB.root',
                                                              directory+'/10000/9AB546DD-F266-E511-8186-E41D2D08E060.root',
                                                              directory+'/10000/9C94C144-F366-E511-930E-0025905964BE.root',
                                                              directory+'/10000/9E3D8403-F966-E511-A73A-0025907DC9BA.root',
                                                              directory+'/10000/9EF2DE54-F266-E511-AD00-0025907DC9F8.root',
                                                              directory+'/10000/A0B59564-F366-E511-B74D-E41D2D08DF20.root',
                                                              directory+'/10000/A0BA798F-F366-E511-A027-002590AC4C7C.root',
                                                              directory+'/10000/A0C8F1FD-F966-E511-BBCB-0025905B858A.root',
                                                              directory+'/10000/A29EE8FC-F966-E511-B996-0025905A60B8.root',
                                                              directory+'/10000/A841BCAE-F366-E511-ADD3-0025905A60CA.root',
                                                              directory+'/10000/A87271FE-F966-E511-B438-0025905B85EE.root',
                                                              directory+'/10000/A88DE093-F366-E511-90F8-0025907DCA64.root',
                                                              directory+'/10000/AC280001-FA66-E511-B0C7-0025907DC9C8.root',
                                                              directory+'/10000/B03E3607-F466-E511-BA04-0025905A612E.root',
                                                              directory+'/10000/B0897805-FA66-E511-B492-0025905938AA.root',
                                                              directory+'/10000/B21A973D-F266-E511-BB22-0025905A60DA.root',
                                                              directory+'/10000/B24CD941-F266-E511-8C4B-0025905A60F8.root',
                                                              directory+'/10000/B2AB14AB-F366-E511-84D1-00259059642A.root',
                                                              directory+'/10000/B4CFEA27-F366-E511-A1E9-0025905A60DA.root',
                                                              directory+'/10000/B4FD5440-F266-E511-A29D-0025905A60EE.root',
                                                              directory+'/10000/B655FB3F-F266-E511-977B-0025905A612A.root',
                                                              directory+'/10000/B6A348AD-F366-E511-AAB0-002590593876.root',
                                                              directory+'/10000/B8961B96-F266-E511-9EFC-0025907FD424.root',
                                                              directory+'/10000/BA5732AC-F366-E511-B6C4-0026189437E8.root',
                                                              directory+'/10000/BA7E56FC-F866-E511-BE20-003048F30422.root',
                                                              directory+'/10000/BA942442-F266-E511-A45E-0025905A60AA.root',
                                                              directory+'/10000/BAEFEDB3-F266-E511-BC25-0026189438AA.root',
                                                              directory+'/10000/BC751140-F266-E511-9A3D-0025905A6126.root',
                                                              directory+'/10000/BCD9A2AD-F366-E511-A10D-00259059642A.root',
                                                              directory+'/10000/BE27EC2D-F366-E511-9672-002590DB91FA.root',
                                                              directory+'/10000/C04F4740-F266-E511-9BB9-0025905A612A.root',
                                                              directory+'/10000/C20A8AAD-F366-E511-8936-0025905A605E.root',
                                                              directory+'/10000/C23247FF-F866-E511-AE0C-002590593878.root',
                                                              directory+'/10000/C25D1E02-F966-E511-BCF6-002590DB928E.root',
                                                              directory+'/10000/C4F833FE-F966-E511-98E9-0025905A60A8.root',
                                                              directory+'/10000/C65D6DFE-F966-E511-9C94-0025905A608E.root',
                                                              directory+'/10000/C67549F6-F966-E511-90FE-002618943910.root',
                                                              directory+'/10000/C6F849B0-F366-E511-9593-0025905A6090.root',
                                                              directory+'/10000/CAA2B9FE-EB66-E511-8375-0025905B8582.root',
                                                              directory+'/10000/D0638BF9-F866-E511-9151-0025905A6094.root',
                                                              directory+'/10000/D07A88F9-F866-E511-9ECC-0025905A6094.root',
                                                              directory+'/10000/D20E7D38-F366-E511-AACF-003048FFCC18.root',
                                                              directory+'/10000/D21588AD-F366-E511-A452-002590593876.root',
                                                              directory+'/10000/D2EA17AD-F366-E511-B0F1-0026189437E8.root',
                                                              directory+'/10000/D2F4F4FC-F366-E511-899D-0025905A6110.root',
                                                              directory+'/10000/D4363335-F366-E511-8C5A-0026189438A2.root',
                                                              directory+'/10000/D4F6A401-FA66-E511-9197-002590593878.root',
                                                              directory+'/10000/D61BE150-F266-E511-844D-047D7BD6DED2.root',
                                                              directory+'/10000/D6391274-F366-E511-B5D9-E41D2D08DE50.root',
                                                              directory+'/10000/D66E46AB-F366-E511-81D6-002618943856.root',
                                                              directory+'/10000/D8285309-FA66-E511-B450-0025907DC9BE.root',
                                                              directory+'/10000/D841FAAF-F266-E511-A468-0025905B85E8.root',
                                                              directory+'/10000/DA0716D6-F266-E511-AB1B-0025905A60BE.root',
                                                              directory+'/10000/DC6B653F-F266-E511-B495-0026189438B1.root',
                                                              directory+'/10000/DE1624FF-F866-E511-A97D-0025907DCA64.root',
                                                              directory+'/10000/DE9D1202-F466-E511-88A3-0025905A60F4.root',
                                                              directory+'/10000/E09A13F8-F866-E511-A5C1-00259059642E.root',
                                                              directory+'/10000/E2413835-F366-E511-9D99-0026189438A2.root',
                                                              directory+'/10000/E26440AF-F366-E511-8D85-0025905A6094.root',
                                                              directory+'/10000/E26496FD-F966-E511-A849-0025905A48D6.root',
                                                              directory+'/10000/E28B913D-F266-E511-B89A-0025905A60DA.root',
                                                              directory+'/10000/E2B4C232-F366-E511-A92D-0025905B85D8.root',
                                                              directory+'/10000/E683E7F7-F966-E511-816D-0026189438EB.root',
                                                              directory+'/10000/E686C0AE-F366-E511-B749-0025905938D4.root',
                                                              directory+'/10000/E8BEEBCC-F266-E511-B73D-002590593878.root',
                                                              directory+'/10000/E8E95150-F266-E511-AE10-F45214938690.root',
                                                              directory+'/10000/EA9DD241-F266-E511-8696-0025905A60F8.root',
                                                              directory+'/10000/EE921C26-F366-E511-9FFB-003048FFCB96.root',
                                                              directory+'/10000/EEC7F5B3-F266-E511-8AEE-0026189438AA.root',
                                                              directory+'/10000/EEF9E442-F266-E511-9F6C-0025905A606A.root',
                                                              directory+'/10000/F03C1C9D-F366-E511-B619-0025905964A2.root',
                                                              directory+'/10000/F2061678-F366-E511-8D97-0025907DC9C4.root',
                                                              directory+'/10000/F27ACB40-F266-E511-BA38-0025905A60BE.root',
                                                              directory+'/10000/F2BA9837-F366-E511-A8EA-0025905A6138.root',
                                                              directory+'/10000/F4A1F1FD-F966-E511-BEEA-0025905A6092.root',
                                                              directory+'/10000/F62AF6A4-FA66-E511-AB7E-0025905A612A.root',
                                                              directory+'/10000/F6909236-F366-E511-8DEF-0025905A60CE.root',
                                                              directory+'/10000/F8AA11A8-FA66-E511-AB72-0025905A6132.root',
                                                              directory+'/10000/FC6ED6B4-F266-E511-9B7E-0025905A612C.root',
                                                              directory+'/10000/FE2B4843-F266-E511-A31D-003048FFD7A2.root'
                            ))


process.load('Configuration.StandardSequences.Services_cff')
process.load('Configuration.StandardSequences.FrontierConditions_GlobalTag_cff')
process.load("Configuration.StandardSequences.MagneticField_cff")
process.load('Configuration.Geometry.GeometryExtended2015Reco_cff')
process.GlobalTag.globaltag = 'MCRUN2_740TV1::All'

process.analysis = cms.EDAnalyzer('TrackTree',
                                  data_type = cms.string('PYTHIA8-CUETP8M1-38T-PU1p3'), 

                                  L1GT_label = cms.InputTag('gtDigis'),
                                  L1TT_requested = cms.vstring('L1Tech_BSC_minBias_threshold1.v0','L1Tech_BSC_minBias_threshold2.v0',
                                                               'L1Tech_BPTX_plus_AND_minus.v0'),
                                  
                                  HLT_label = cms.InputTag('TriggerResults','','HLT'),
                                  HLT_requested = cms.vstring('HLT_ZeroBias_v1'),
                                  process_label = cms.string('HLT'),
                                  
                                  generaltrack_label = cms.InputTag('TrackRefitter'),  # cms.InputTag('generalTracks','','RECO'),  
                                  calotower_label = cms.InputTag('towerMaker','', 'RECO'),
                                  genparticle_label = cms.InputTag('genParticles','','HLT'),
                                  recovertex_label = cms.InputTag('offlinePrimaryVertices','','RECO'),
                                  beamspot_label = cms.InputTag('offlineBeamSpot','','RECO'),
                                  hfrechit_label = cms.InputTag('hfreco','','RECO'),
                                  pu_label = cms.InputTag('addPileupInfo','','HLT')
                                  )


process.TFileService = cms.Service("TFileService",
                                   fileName = cms.string('/nfs/dust/cms/user/roland/TrackAnalysis/OutputTree/PYTHIA8-CUETP8M1-38T/PYTHIA8-CUETP8M1-38T-PU1p3.root')
                                   )

process.p = cms.Path(process.TrackRefitter*process.analysis)
